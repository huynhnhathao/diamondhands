---
layout: post
title:  "Smart contracts là gì?"
date:   2022-01-02 13:05:18 +0700
categories: smartcontracts
---

Smart contracts là một loại contract mà các điều khoảng của nó được viết bằng ngôn ngữ lập trình và được viết bởi các programmers chứ không phải luật sư. Ngoài việc nó không được viết bằng ngôn ngữ tự nhiên ra thì, về cơ bản smart contract cũng như một contract thông thường, trong nó chứa các điều khoảng mà các cá nhân/tổ chức đồng ý với nhau và ghi ra thành chương trình/văn bản rõ ràng. 

Vì sao chúng ta cần smart contracts thay cho các contracts thông thường? Hãy cân nhắc ví dụ về bảo hiểm nhân thọ mà ta mua từ các công ty bảo hiểm. Các công ty bảo hiểm đưa ra những lời hứa rằng nếu ta đóng tiền cho một loại bảo hiểm nào đó trong khoảng thời gian thỏa thuận nào đó, nếu ta rơi vào trường hợp không may nào đó được bảo hiểm bảo trợ thì ta sẽ nhận được tiền trợ cấp từ bảo hiểm. Tuy nhiên chuyện không đơn giản như vậy, mục tiêu kinh doanh bảo hiểm là để tạo ra lợi nhuận, còn việc bồi thường tiền bảo hiểm cho khách hàng là đi ngược lại với mục tiêu của họ, nên khi ta gặp vấn đề và muốn được bảo hiểm trợ cấp, họ sẽ tìm mọi cách, mọi sơ hở trong 25 trang hợp đồng bảo hiểm mà ta ký với họ mà không hề đọc tới trang thứ 3, để từ chối trả tiền bảo hiểm cho chúng ta. Cho dù nếu có lấy được tiền bồi thường từ công ty họ thì cũng sẽ mất rất nhiều công sức từ phía chúng ta, nào là cần phải có luật sư để kiện cáo, cứ nghĩ tới thời gian bỏ ra để đòi tiền bảo hiểm cũng đã khiến ta muốn bỏ cuộc ngay từ đầu.

 Vấn để của contracts thông thường là, nó hoạt động dựa trên sự tin tưởng. Khi bên A ký hợp đồng với bên B, ghi rõ là nếu bên A hoàn thành lời hứa ghi trong hợp đồng thì bên B cũng phải hoàn thành lời hứa mà B hứa trong hợp đồng, và cần có luật sư để viết cho cả hai bên hợp đồng đó. Hợp đồng này sẽ được pháp luật bảo vệ. Rõ ràng A không tin tưởng B, và B cũng không tin tưởng A nên mới cần tới luật sư và pháp luật đứng ra làm trung gian để đảm bảo rằng cả hai bên thực hiện đúng lời hứa.

Nếu ta viết hợp đồng bằng smart contracts, các điều lệ, lời hứa trong hợp đồng được viết bằng các câu lệnh if...else, nếu A làm việc này, thì A sẽ được hưởng cái này,... tất cả được hard-code bằng if...else và không ai có thể thay đổi được những gì đã ghi trong hợp đồng một khi nó được thực thi. Quay lại ví dụ bảo hiểm, nếu ta dùng một smart contract đề mã hóa hợp đồng của ta với công ty bảo hiểm, thì một khi ta đủ điều kiện nhận được tiền bảo hiểm như đã ghi trong smart contract, smart contract sẽ trả tiền cho ta mà không cần phải hỏi ý kiến của công ty bảo hiểm.

Smart contract là một chương trình nằm trên một mạng blockchain. Nó có địa chỉ của riêng nó, có thể nhận tiền và tiêu tiền như một người dùng thông thường.  Cách mà smart contract tiêu tiền, nhận tiền hay giữ tiền trong tài khoản của nó là do người lập trình viên định nghĩa từ ban đầu. Lợi ích của smart contracts so với contracts thông thường là, nó loại bỏ hoàn toàn các người trung gian, nó không thể bị thay đổi được mà sẽ luôn làm theo những gì đã định nghĩa, nghĩa là nó sẽ không nhận tiền từ một cá nhân nào để sửa một chi tiết nhỏ trong hợp đồng.

Một vài ví dụ về sử dụng smart contracts để giải quyết các vấn đề của chúng ta:

1. **Chứng nhận bản quyền.** Giả sử bạn có một ý tưởng kinh doanh rất hay, bạn muốn đăng ký bản quyền cho nó, việc bạn cần làm là viết ý tưởng đó ra thành văn bản, sau đó dùng SHA-256 hash nó thành một chuỗi 256 bits, gửi nó lên một smart contract. 6 tháng sau, một đối thủ khác thấy ý tưởng kinh doanh của bạn hay quá và định cướp ý tưởng của bạn bằng cách đi đăng ký bản quyền với ý tưởng đó. Bạn sẽ nói với họ là bạn nghĩ ra cái này 6 tháng trước rồi, nhưng họ không tin vì ai cũng có thể nói vậy được. Thế là bạn mang văn bản ý tưởng của bạn ra, dùng SHA-256 hash nó, sau đó show cho đối thủ của bạn giá trị hash đó giống y như giá trị hash trên một smart contract đã nằm trên blockchain Ethereum 6 tháng trước.
1. **Mua bán, chuyển nhượng digital assets.** Giả sử bạn có một loại tài sản số, như ảnh .png, một đoạn văn bản .txt, một bài hát .mp3,... làm sao để bạn có thể chứng minh quyền sở hữu của các loại tài sản này khi mà ai cũng có thể copy nó một cách dễ dàng? Dùng một smart contract. Giả sử có một chợ buôn bán các loại digital assets, bạn muốn bán một bức tranh mà bạn vừa vẽ bằng Micorsoft Paint của bạn trên chợ đó. Điều mà bạn cần làm là upload bức tranh đó lên chợ, chợ sẽ lưu bức tranh của bạn vào server của nó tại một địa chỉ, sau đó nó sẽ hash cái địa chỉ đó tạo ra một chuỗi 64 kí tự hexa và thêm vào smart contract của nó địa chỉ của bạn và gán quyền sở hữu chuỗi hash đó cho bạn. Bạn có thể bán bức tranh đó đi bằng cách bán quyền sở hữu của chuỗi hash đó cho tài khoản khác.
1. **Charity funding.** Gây quỹ từ thiện hay bất cứ loại quỹ nào đều cần có sự rõ ràng, minh bạch về việc quản lý tiền và chi tiền. Đã có rất nhiều vụ việc cá nhân/tổ chức gây quỹ từ thiện nhưng không dùng số tiền gây quỹ như đã hứa mà dùng cho các việc khác, làm mất lòng tin của các nhà tài trợ vào quỹ đó. Nếu ta dùng một smart contract để quản lý quỹ, mọi người đều có thể nhìn thấy được ai gởi tiền vào quỹ, số tiền trong quỹ là bao nhiêu, và quỹ tiền đó đã sử dụng cho mục đích nào. Tất cả các tính chất này là tính chất của blockchain mà smart contract thừa hưởng.
2. **Làm người giao dịch trung gian.** Giả sử chúng ta cần mua một loại tài sản online, vô hình như là tài sản trong game với một người khác cách ta nửa vòng trái đất, làm cách nào để giao dịch này diễn ra? thông thường ta sẽ cần đến một người giao dịch trung gian đứng ra nhận tài sản mà ta đang mua từ người bán, sau đó nhận tiền từ ta. Lúc này người trung gian sẽ kiểm tra số tiền và tài sản đó xem có giống như đã hứa, nếu giống như đã hứa thì người trung gian gởi tiền cho người bán, gởi tài sản cho người mua, lấy 10% phí. Vấn đề của cách giao dịch này là ta không tin tưởng người giao dịch trung gian vì họ có thể lấy cả tiền và tài sản và trốn mất, hoặc người giao dịch trung gian cấu kết với bên mua/bán để lừa bên còn lại. Nếu ta dùng một smart contracts, ta sẽ công cần phải tin tưởng người mua/bán, vì smart contract sẽ đảm bảo rằng cả hai bên làm đúng theo trách nhiệm của mình, nếu không sẽ không có giao dịch nào diễn ra cả.

Smart contracts giúp chúng ta không phải đọc 25 trang hợp đồng mà chỉ một chi tiết nhỏ dấu ở trang 23 có thể làm bất lợi cho chúng ta. Cho dù có đọc hết 25 trang đó, nếu bạn không phải là luật sư thì cũng không thể nhìn ra điểm bất lợi nào được viết trong hợp đồng. 

Nhưng đọc một smart contract viết bằng `Solidity` cũng không hề dễ dàng gì nếu bạn không có bằng khoa học máy tính? Đúng vậy, không phải ai cũng đọc được code, và cũng không phải ai đọc được code cũng nhìn ra được vấn đề của nó. Nhưng smart contract là mã nguồn mở, nghĩa là nó được công bố trên mạng, ta có thể nhờ vào trí-khôn-của-đám-đông để đọc smart contract và tìm ra các điểm bất thưởng, và ta có thể tin tưởng là nếu có lỗi thì những người có bằng KHMT sẽ tìm ra giùm chúng ta.

